<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TapSpot ç½‘ç»œè®¿é—®æŒ‡å—</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f172a, #1e293b);
            color: #f8fafc;
            min-height: 100vh;
            padding: 40px;
            text-align: center;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(71, 85, 105, 0.5);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .logo {
            font-size: 48px;
            font-weight: bold;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
        }
        
        .status {
            display: inline-block;
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: 600;
            margin: 20px 0;
        }
        
        .status-success {
            background: linear-gradient(135deg, #10b981, #059669);
        }
        
        .access-info {
            background: rgba(15, 23, 42, 0.8);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            text-align: left;
            border: 1px solid rgba(71, 85, 105, 0.3);
        }
        
        .server-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .server-card {
            background: rgba(15, 23, 42, 0.8);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(71, 85, 105, 0.3);
        }
        
        .server-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #3b82f6;
        }
        
        .server-url {
            font-family: 'Courier New', monospace;
            background: #1e293b;
            padding: 10px;
            border-radius: 8px;
            word-break: break-all;
            margin: 10px 0;
            font-size: 14px;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 600;
            margin-top: 10px;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);
        }
        
        .test-result {
            background: #1e293b;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
            font-family: 'Courier New', monospace;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .instructions {
            text-align: left;
            margin: 30px 0;
            padding: 20px;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 12px;
            border-left: 4px solid #3b82f6;
        }
        
        .instructions h3 {
            color: #3b82f6;
            margin-bottom: 15px;
        }
        
        .instructions ol {
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 10px;
            line-height: 1.6;
        }
        
        .note {
            color: #f59e0b;
            font-size: 14px;
            margin-top: 10px;
            padding: 10px;
            background: rgba(245, 158, 11, 0.1);
            border-radius: 8px;
            border-left: 3px solid #f59e0b;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">TapSpot</div>
        <h1>ğŸŒ ç½‘ç»œè®¿é—®æŒ‡å—</h1>
        
        <div class="status status-success">âœ… æœåŠ¡è¿è¡Œæ­£å¸¸</div>
        
        <div class="access-info">
            <h2>ğŸ“¡ æœåŠ¡å™¨ä¿¡æ¯</h2>
            <div class="server-info">
                <div class="server-card">
                    <div class="server-title">ğŸŒ å‰ç«¯åº”ç”¨</div>
                    <div class="server-url" id="frontend-url">http://43.130.53.168:3000</div>
                    <a href="http://43.130.53.168:3000" class="btn" target="_blank">è®¿é—®å‰ç«¯</a>
                </div>
                
                <div class="server-card">
                    <div class="server-title">ğŸ”§ åç«¯API</div>
                    <div class="server-url" id="backend-url">http://43.130.53.168:8080/api/v1</div>
                    <a href="http://43.130.53.168:8080/api/v1/stats" class="btn" target="_blank">æµ‹è¯•API</a>
                </div>
            </div>
        </div>
        
        <div class="instructions">
            <h3>ğŸ“‹ ä½¿ç”¨è¯´æ˜</h3>
            <ol>
                <li><strong>è®¿é—®å‰ç«¯åº”ç”¨</strong>ï¼šåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <code>http://10.4.0.3:3000</code></li>
                <li><strong>æµ‹è¯•APIæ¥å£</strong>ï¼šè®¿é—® <code>http://10.4.0.3:8080/api/v1/stats</code> æŸ¥çœ‹ç»Ÿè®¡æ•°æ®</li>
                <li><strong>äº¤äº’åŠŸèƒ½</strong>ï¼š
                    <ul>
                        <li>ç‚¹å‡»åœ°å›¾ä»»æ„ä½ç½®æ·»åŠ æ–°åœ°ç‚¹</li>
                        <li>ç‚¹å‡»åœ°å›¾ä¸Šçš„æ ‡è®°æŸ¥çœ‹åœ°ç‚¹è¯¦æƒ…</li>
                        <li>åœ¨å·¦ä¾§é¢æ¿ç­›é€‰å›½å®¶ã€åˆ†ç±»</li>
                        <li>ä½¿ç”¨æœç´¢åŠŸèƒ½æŸ¥æ‰¾åœ°ç‚¹</li>
                        <li>æŸ¥çœ‹å®æ—¶ç»Ÿè®¡æ•°æ®</li>
                    </ul>
                </li>
                <li><strong>APIç«¯ç‚¹</strong>ï¼š
                    <ul>
                        <li><code>/api/v1/spots</code> - è·å–æ‰€æœ‰åœ°ç‚¹</li>
                        <li><code>/api/v1/spots/:id</code> - è·å–å•ä¸ªåœ°ç‚¹</li>
                        <li><code>/api/v1/spots/:id/reviews</code> - è·å–åœ°ç‚¹è¯„è®º</li>
                        <li><code>/api/v1/stats</code> - è·å–ç»Ÿè®¡æ•°æ®</li>
                    </ul>
                </li>
            </ol>
        </div>
        
        <h2>ğŸ“Š æœåŠ¡çŠ¶æ€æµ‹è¯•</h2>
        <div class="test-result" id="test-result">
            æ­£åœ¨æµ‹è¯•æœåŠ¡è¿æ¥...
        </div>
        
        <div class="note">
            <strong>âœ… å…¬ç½‘è®¿é—®å·²é…ç½®ï¼š</strong>
            <p>1. è¿™æ˜¯å…¬ç½‘IPåœ°å€ï¼Œå¯ä»¥åœ¨äº’è”ç½‘ä¸Šè®¿é—®</p>
            <p>2. å·²å¼€æ”¾ç«¯å£ 3000ï¼ˆå‰ç«¯ï¼‰å’Œ 8080ï¼ˆåç«¯ï¼‰</p>
            <p>3. æœåŠ¡åœ¨æœåŠ¡å™¨é‡å¯åä¼šåœæ­¢ï¼Œéœ€è¦é‡æ–°å¯åŠ¨</p>
            <p>4. å»ºè®®é…ç½®åŸŸåå’ŒHTTPSç”¨äºç”Ÿäº§ç¯å¢ƒ</p>
        </div>
        
        <div style="margin-top: 40px; color: #94a3b8; font-size: 14px;">
            <p>ğŸ”„ æœ€åæ›´æ–°: <span id="update-time"></span></p>
            <p>ğŸ”§ æŠ€æœ¯æ”¯æŒ: momoé­”ç‹ (momo@openclaw.ai)</p>
        </div>
    </div>
    
    <script>
        // æµ‹è¯•æœåŠ¡è¿æ¥
        async function testServices() {
            const resultEl = document.getElementById('test-result');
            
            try {
                // æµ‹è¯•åç«¯API
                resultEl.innerHTML = 'æ­£åœ¨æµ‹è¯•åç«¯APIè¿æ¥...';
                const apiResponse = await fetch('http://43.130.53.168:8080/api/v1/stats');
                const apiData = await apiResponse.json();
                
                resultEl.innerHTML = `âœ… åç«¯APIè¿æ¥æˆåŠŸï¼\n\n` +
                                   `ğŸ“Š ç»Ÿè®¡æ•°æ®ï¼š\n` +
                                   `- åœ°ç‚¹æ€»æ•°ï¼š${apiData.data.total_spots}\n` +
                                   `- è¯„è®ºæ€»æ•°ï¼š${apiData.data.total_reviews}\n` +
                                   `- å›½å®¶æ€»æ•°ï¼š${apiData.data.total_countries}\n\n` +
                                   `æ­£åœ¨æµ‹è¯•å‰ç«¯è¿æ¥...`;
                
                // æµ‹è¯•å‰ç«¯
                const frontendResponse = await fetch('http://43.130.53.168:3000');
                const frontendText = await frontendResponse.text();
                
                if (frontendText.includes('TapSpot') || frontendText.includes('React')) {
                    resultEl.innerHTML += `\nâœ… å‰ç«¯è¿æ¥æˆåŠŸï¼\n\n` +
                                        `ğŸ‰ æ‰€æœ‰æœåŠ¡è¿è¡Œæ­£å¸¸ï¼\n` +
                                        `ç°åœ¨å¯ä»¥é€šè¿‡å…¬ç½‘è®¿é—®TapSpotäº†ï¼`;
                } else {
                    resultEl.innerHTML += `\nâš  å‰ç«¯è¿æ¥æˆåŠŸï¼Œä½†å†…å®¹å¯èƒ½æœªå®Œå…¨åŠ è½½\n` +
                                        `è¯·ç¨ååˆ·æ–°é¡µé¢é‡è¯•`;
                }
                
            } catch (error) {
                resultEl.innerHTML = `âŒ è¿æ¥æµ‹è¯•å¤±è´¥\n\n` +
                                   `é”™è¯¯ä¿¡æ¯ï¼š${error.message}\n\n` +
                                   `å¯èƒ½çš„åŸå› ï¼š\n` +
                                   `1. æœåŠ¡æœªå¯åŠ¨\n` +
                                   `2. é˜²ç«å¢™é˜»æ­¢äº†è¿æ¥\n` +
                                   `3. ç½‘ç»œé…ç½®é—®é¢˜\n\n` +
                                   `è¯·æ£€æŸ¥æœåŠ¡çŠ¶æ€å’Œç½‘ç»œé…ç½®`;
            }
        }
        
        // æ›´æ–°é¡µé¢æ—¶é—´
        function updateTime() {
            const now = new Date();
            const timeStr = now.toLocaleString('zh-CN', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: false
            });
            document.getElementById('update-time').textContent = timeStr;
        }
        
        // é¡µé¢åŠ è½½åå¼€å§‹æµ‹è¯•
        document.addEventListener('DOMContentLoaded', () => {
            updateTime();
            testServices();
            
            // æ¯åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡æ—¶é—´
            setInterval(updateTime, 60000);
            
            // æ¯5åˆ†é’Ÿæµ‹è¯•ä¸€æ¬¡æœåŠ¡çŠ¶æ€
            setInterval(testServices, 300000);
        });
    </script>
</body>
</html>